(this.webpackJsonpchatbud=this.webpackJsonpchatbud||[]).push([[0],{36:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(12),s=n.n(c),r=n(19),i=n(20),o=n.n(i),u=n(22),j=n(13),d=(n(36),n(29)),b=n.n(d),l=n(28),h=n.n(l),p=n(26),O=n.n(p),m=n(10),x=(n(49),n(38),n(47),n(24)),f=n(25),g=n(4);m.a.initializeApp({apiKey:"AIzaSyBOdfX_-WBub3AIHChW_Qh9aK6J0bLsung",authDomain:"chatbud-80653.firebaseapp.com",projectId:"chatbud-80653",storageBucket:"chatbud-80653.appspot.com",messagingSenderId:"319960267783",appId:"1:319960267783:web:d59f1e81f4975140803ea2"});var v=m.a.auth(),N=m.a.firestore();function w(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("button",{className:"sign-in",onClick:function(){var e=new m.a.auth.GoogleAuthProvider;v.signInWithPopup(e)},children:"Sign in with Google"})})}function y(){return v.currentUser&&Object(g.jsx)("button",{className:"sign-out",onClick:function(){return v.signOut()},children:Object(g.jsx)(h.a,{})})}function I(){var e=Object(a.useRef)(),t=N.collection("messages"),n=t.orderBy("createdAt").limit(250),c=Object(f.a)(n,{idField:"id"}),s=Object(j.a)(c,1)[0],r=Object(a.useState)(""),i=Object(j.a)(r,2),d=i[0],l=i[1],h=function(){var n=Object(u.a)(o.a.mark((function n(a){var c,s,r,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),c=v.currentUser,s=c.uid,r=c.photoURL,i=c.displayName,n.next=4,t.add({text:d,createdAt:m.a.firestore.FieldValue.serverTimestamp(),uid:s,photoURL:r,displayName:i});case 4:l(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("main",{children:[s&&s.map((function(e){return Object(g.jsx)(A,{message:e},e.id)})),Object(g.jsx)("span",{ref:e})]}),Object(g.jsxs)("form",{onSubmit:h,children:[Object(g.jsx)("input",{value:d,onChange:function(e){return l(e.target.value)},placeholder:"Message..."}),Object(g.jsx)("button",{type:"submit",disabled:!d,className:"sendbtn",children:Object(g.jsx)(b.a,{})})]})]})}function A(e){var t,n=e.message,a=n.text,c=n.uid,s=n.photoURL,i=n.displayName,o=c===v.currentUser.uid?"sent":"received";return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"message ".concat(o),children:[Object(g.jsx)("img",{src:s||"https://api.adorable.io/avatars/23/abott@adorable.png",alt:""}),Object(g.jsxs)("p",{children:[a,Object(g.jsx)("span",{children:Object(g.jsx)("font",(t={size:"1",color:"d13681",className:"username"},Object(r.a)(t,"className","message ".concat(o)),Object(r.a)(t,"children",i),t))})]})]})})}var k=function(){var e=Object(x.a)(v),t=Object(j.a)(e,1)[0];return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{children:[Object(g.jsx)("h1",{onClick:function(){var e=new m.a.auth.GoogleAuthProvider;v.signInWithPopup(e)},children:Object(g.jsxs)("font",{color:"d13681",children:["Chatbud",Object(g.jsx)(O.a,{size:"large"})]})}),Object(g.jsx)(y,{})]}),Object(g.jsx)("section",{children:t?Object(g.jsx)(I,{}):Object(g.jsx)(w,{})})]})};s.a.render(Object(g.jsx)(k,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.29daf0b9.chunk.js.map